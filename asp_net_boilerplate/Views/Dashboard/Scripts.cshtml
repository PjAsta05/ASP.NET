<script>
    var ctx = document.getElementById('salesChart').getContext('2d');
    var salesChart = new Chart(ctx, {
        type: 'line',
        data: {
            labels: [@Html.Raw(ViewBag.Labels)],
            datasets: [{
                label: 'Total Sales',
                data: [@Html.Raw(ViewBag.Values)],
                borderColor: '#337ab7',
                backgroundColor: 'rgba(51, 122, 183, 0.2)',
                fill: true,
                tension: 0.3
            }]
        }
    });

    $(document).ready(function() {
        $('#topCustomerTable').DataTable({
            "processing": true,
            "serverSide": false,
            "paging": false,
            "searching": false,
            "lengthChange": false,
            "ordering": true,
            "info": false,
            "data": @Html.Raw(Json.Encode(ViewBag.TopCustomers)),
            "columns": [
                { render: function (data, type, row, meta) { return meta.row + 1; }, orderable: false },
                { "data": "CustomerName", orderable: false },
                { "data": "TotalSales", orderable: false },
                { "data": "TotalQty", orderable: false },
                { "data": "GrandTotal", render: function (data) { return data.toLocaleString(); }, orderable: false }
            ],
        });
    });
</script>